<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="description" content="how I set up my website">
<link rel="alternate"
      type="application/rss+xml"
      href="./rss.xml"
      title="RSS feed for ./">
<title>My Website and Blog Setup</title>
<meta name="author" content="ThanhVu Nguyen">
<meta name="referrer" content="no-referrer">
<link rel="stylesheet" type="text/css" href="https://dynaroars.github.io/files/org.css" />
<link href= "../files/org-orig.css" rel="stylesheet" type="text/css" /> 
<link rel="icon" href="../files/favicon.ico">
<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-MML-AM_CHTML">
</script>
</head>
<body>
<div id="preamble" class="status"><div class="header">
  <a href="../index.html">ThanhVu Nguyen</a>,  
  <a href="index.html">Archive</a>
</div>
</div>
<div id="content">
<div class="post-date">05 Jun 2021</div><h1 class="post-title"><a href="./mywebsite.html">My Website and Blog Setup</a></h1>
<nav id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org149c70b">1. Auto Dark/Light Scheme Change</a></li>
<li><a href="#orgd921588">2. Using org-static-blog</a></li>
</ul>
</div>
</nav>
<p>
Minimal CSS that automatically switches btw light and dark, and blog setup using <code>org-static-blog</code>
</p>

<div id="outline-container-org149c70b" class="outline-2">
<h2 id="org149c70b"><span class="section-number-2">1.</span> Auto Dark/Light Scheme Change</h2>
<div class="outline-text-2" id="text-1">
<p>
My website automatically changes its color to dark and light setting depending on the user's OS preference. This useful custmization is quite simple with CSS using the <code>@media (prefers-color-scheme: dark) {...}</code> feature.  Below is a minimal CSS example that lists light (default) and dark color schemes and automatically changes to the preferred one set by your OS or Window Manger.
</p>

<div class="org-src-container">
<pre class="src src-css"><span style="color: #51afef;">body </span>{
    <span style="color: #98be65;">background</span>: <span style="color: #000000; background-color: #f6f6f6;">#f6f6f6</span>;
}

<span style="color: #c678dd;">@media</span> (prefers-color-scheme: dark) {
    <span style="color: #51afef;">body </span>{
        <span style="color: #98be65;">color</span>: <span style="color: #000000; background-color: #d3d3d3;">lightgray</span>;
        <span style="color: #98be65;">background</span>: <span style="color: #ffffff; background-color: #454545;">#454545</span>;
    }
}

</pre>
</div>


<p>
Here's the actual <a href="https://dynaorars.github.io/files/org.css">CSS</a> file I use for my website.
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #51afef;">body </span>{
    <span style="color: #98be65;">margin</span>: 40px auto;
    <span style="color: #98be65;">max-width</span>: 90%;
    <span style="color: #98be65;">line-height</span>: 1.6;
    <span style="color: #98be65;">padding</span>: 0 10px
}

<span style="color: #51afef;">blockquote </span>{
  <span style="color: #98be65;">background</span>: <span style="color: #000000; background-color: #f9f9f9;">#f9f9f9</span>;
  <span style="color: #98be65;">border-left</span>: 10pt solid <span style="color: #000000; background-color: #ccc;">#ccc</span>;
  <span style="color: #98be65;">margin</span>: 1.5em 10pt; 
  <span style="color: #98be65;">padding</span>: 0.5em 10pt;
}


<span style="color: #51afef;">blockquote p </span>{
  <span style="color: #98be65;">display</span>: inline;
}

<span style="color: #51afef;">.styled </span>{
  <span style="color: #98be65;">list-style</span>: none;
  <span style="color: #98be65;">padding</span>: 0;
  <span style="color: #5B6268;">/* </span><span style="color: #5B6268;">margin: 0.1;</span><span style="color: #5B6268;"> */</span>
}

<span style="color: #51afef;">.styled li </span>{
  <span style="color: #98be65;">padding-left</span>: 1rem;
}

<span style="color: #51afef;">.styled li::before </span>{
  <span style="color: #98be65;">content</span>: attr(data-icon);
  <span style="color: #5B6268;">/* </span><span style="color: #5B6268;">Make slightly larger than the li font-size</span>
<span style="color: #5B6268;">  but smaller than the li grid-gap</span><span style="color: #5B6268;"> */</span>
}


<span style="color: #c678dd;">@media</span> (prefers-color-scheme: light) {
    <span style="color: #51afef;">body </span>{
        <span style="color: #98be65;">background</span>: <span style="color: #000000; background-color: #ffffff;">white</span>;
    }
    <span style="color: #51afef;">pre,code</span>{
        <span style="color: #98be65;">background</span>: <span style="color: #000000; background-color: #f8f8ff;">ghostwhite</span>;
    }
}

<span style="color: #c678dd;">@media</span> (prefers-color-scheme: dark) {    
    <span style="color: #5B6268;">/* </span><span style="color: #5B6268;">Solarized dark color</span><span style="color: #5B6268;"> */</span>
    <span style="color: #51afef;">body </span>{
        <span style="color: #98be65;">color</span>: <span style="color: #ffffff; background-color: #839496;">#839496</span>;
        <span style="color: #98be65;">background</span>: <span style="color: #ffffff; background-color: #002b36;">#002b36</span>;

    }
    <span style="color: #51afef;">a </span>{
        <span style="color: #98be65;">color</span>: <span style="color: #ffffff; background-color: #b58900;">#b58900</span>;
    }
    <span style="color: #51afef;">a:visited </span>{
        <span style="color: #98be65;">color</span>: <span style="color: #ffffff; background-color: #cb4b16;">#cb4b16</span>;
    }    
    <span style="color: #51afef;">strong </span>{
        <span style="color: #98be65;">color</span>: <span style="color: #000000; background-color: #a9a9a9;">darkgray</span>
    }
    <span style="color: #51afef;">h1 </span>{
        <span style="color: #98be65;">color</span>: <span style="color: #ffffff; background-color: #d33682;">#d33682</span>;
    }
    <span style="color: #51afef;">h2,</span>
<span style="color: #51afef;">    h3,</span>
<span style="color: #51afef;">    h4,</span>
<span style="color: #51afef;">    h5,</span>
<span style="color: #51afef;">    h6 </span>{
        <span style="color: #98be65;">color</span>: <span style="color: #ffffff; background-color: #859900;">#859900</span>;
    }


    <span style="color: #51afef;">pre, code</span>{
        <span style="color: #98be65;">background</span>: <span style="color: #ffffff; background-color: #073642;">#073642</span>;
        <span style="color: #98be65;">border</span>: 1pt solid <span style="color: #ffffff; background-color: #586e75;">#586e75</span>;
        <span style="color: #98be65;">box-shadow</span>: 1pt 1pt 1pt <span style="color: #ffffff; background-color: #586e75;">#586e75</span>;
        <span style="color: #98be65;">padding</span>: 1pt;
    }


}
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd921588" class="outline-2">
<h2 id="orgd921588"><span class="section-number-2">2.</span> Using <a href="https://github.com/bastibe/org-static-blog">org-static-blog</a></h2>
<div class="outline-text-2" id="text-2">
<p>
I use <code>Org Mode</code> in Emacs for my website and <code>org-static-blog</code> for <a href="./index.html">my blog</a>.
</p>

<ul class="org-ul">
<li>Below shows the setup for my blog, which has the following hierachy:
<ul class="org-ul">
<li><code>org/</code> :  store <code>.org</code> source files</li>
<li><code>posts/</code> : store output <code>.html</code> files</li>
<li><code>files/</code> : store miscellaneous files (e.g., pictures) used by my blog entries
<ul class="org-ul">
<li><p>
<code>header.html</code>
</p>
<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #c678dd;">meta</span> <span style="color: #dcaeea;">name</span>=<span style="color: #98be65;">"author"</span> <span style="color: #dcaeea;">content</span>=<span style="color: #98be65;">"ThanhVu Nguyen"</span>&gt;
&lt;<span style="color: #c678dd;">meta</span> <span style="color: #dcaeea;">name</span>=<span style="color: #98be65;">"referrer"</span> <span style="color: #dcaeea;">content</span>=<span style="color: #98be65;">"no-referrer"</span>&gt;
&lt;<span style="color: #c678dd;">link</span> <span style="color: #dcaeea;">rel</span>=<span style="color: #98be65;">"stylesheet"</span> <span style="color: #dcaeea;">type</span>=<span style="color: #98be65;">"text/css"</span> <span style="color: #dcaeea;">href</span>=<span style="color: #98be65;">"https://dynaroars.github.io/files/org.css"</span> /&gt;
&lt;<span style="color: #c678dd;">link</span> href= <span style="color: #98be65;">"../files/org-orig.css"</span> <span style="color: #dcaeea;">rel</span>=<span style="color: #98be65;">"stylesheet"</span> <span style="color: #dcaeea;">type</span>=<span style="color: #98be65;">"text/css"</span> /&gt; 
&lt;<span style="color: #c678dd;">link</span> <span style="color: #dcaeea;">rel</span>=<span style="color: #98be65;">"icon"</span> <span style="color: #dcaeea;">href</span>=<span style="color: #98be65;">"../files/favicon.ico"</span>&gt;
&lt;<span style="color: #c678dd;">script</span> async <span style="color: #dcaeea;">src</span>=<span style="color: #98be65;">"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-MML-AM_CHTML"</span>&gt;
&lt;/<span style="color: #c678dd;">script</span>&gt;
</pre>
</div></li>
<li><p>
<code>preamble.html</code>
</p>
<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #c678dd;">div</span> <span style="color: #dcaeea;">class</span>=<span style="color: #98be65;">"header"</span>&gt;
  &lt;<span style="color: #c678dd;">a</span> <span style="color: #dcaeea;">href</span>=<span style="color: #98be65;">"../index.html"</span>&gt;ThanhVu Nguyen&lt;/<span style="color: #c678dd;">a</span>&gt;,  
  &lt;<span style="color: #c678dd;">a</span> <span style="color: #dcaeea;">href</span>=<span style="color: #98be65;">"index.html"</span>&gt;Archive&lt;/<span style="color: #c678dd;">a</span>&gt;
&lt;/<span style="color: #c678dd;">div</span>&gt;
</pre>
</div></li>
<li><p>
<code>postamble.html</code>
</p>
<div class="org-src-container">
<pre class="src src-html"><span style="color: #5B6268;">&lt;!-- </span><span style="color: #5B6268;">&lt;div id="archive"&gt;&lt;a href="archive.html"&gt;Other posts&lt;/a&gt;&lt;/div&gt;</span><span style="color: #5B6268;">  --&gt;</span>
</pre>
</div></li>
</ul></li>
</ul></li>

<li><p>
<code>.emacs</code> setup
</p>
<div class="org-src-container">
<pre class="src src-lisp">(use-package org-static-blog
  <span style="color: #c678dd;">:ensure</span> t
  <span style="color: #c678dd;">:config</span>
  (setq
   org-static-blog-publish-title <span style="color: #98be65;">"ThanhVu's website"</span>
   org-static-blog-publish-url <span style="color: #98be65;">"./"</span>
   org-static-blog-publish-directory <span style="color: #98be65;">"/Users/tnguyen/git/www/nguyenthanhvuh/docs/posts/"</span>
   org-static-blog-posts-directory <span style="color: #98be65;">"/Users/tnguyen/git/www/nguyenthanhvuh/docs/org/"</span>
   org-static-blog-drafts-directory <span style="color: #98be65;">"/Users/tnguyen/git/www/nguyenthanhvuh/docs/drafts/"</span>
   org-static-blog-use-preview t
   org-static-blog-preview-convert-titles t
   org-static-blog-preview-ellipsis <span style="color: #98be65;">"..."</span>   
   org-static-blog-enable-tags t
   org-static-blog-index-length 10
   org-export-with-toc t
   org-export-with-section-numbers t

   org-static-blog-page-header (<span style="color: #51afef;">with-temp-buffer</span>
                                 (insert-file-contents
                                  <span style="color: #98be65;">"/Users/tnguyen/git/www/nguyenthanhvuh/docs/files/header.html"</span>)
                                 (buffer-string))

   org-static-blog-page-preamble (<span style="color: #51afef;">with-temp-buffer</span>
                                   (insert-file-contents
                                    <span style="color: #98be65;">"/Users/tnguyen/git/www/nguyenthanhvuh/docs/files/preamble.html"</span>)
                                   (buffer-string))

   org-static-blog-page-postamble (<span style="color: #51afef;">with-temp-buffer</span>
                                    (insert-file-contents
                                     <span style="color: #98be65;">"/Users/tnguyen/git/www/nguyenthanhvuh/docs/files/postamble.html"</span>)
                                    (buffer-string))

   org-static-blog-index-front-matter <span style="color: #98be65;">"&lt;h1&gt; ThanhVu's blog &lt;/h1&gt;\n"</span>)
  )

</pre>
</div></li>
</ul>
</div>
</div>
<div class="taglist"><a href="./tags.html">Tags</a>: <a href="./tag-computer.html">computer</a> <a href="./tag-setup.html">setup</a> <a href="./tag-blog.html">blog</a> </div></div>
<div id="postamble" class="status"><!-- <div id="archive"><a href="archive.html">Other posts</a></div>  -->
</div>
</body>
</html>
